% da = load('/Users/yiranzhao/Dropbox/EEG/work/syncdir/data/tmpdata-1508-7.txt');
da0 = load('/Users/yiranzhao/Dropbox/EEG/work/bci4d2a/data22/data-750-0-1 copy.txt');
da1 = load('/Users/yiranzhao/Dropbox/EEG/work/bci4d2a/data22/data-750-1-1 copy.txt');


%%
nch = size(da0,2)-1;

t0=1;
lb = da0(t0,nch+1);

t=t0+1;
while t<=size(da0,1) && da0(t,nch+1)==lb && t<=size(da1,1) && da1(t,nch+1)==lb
    t=t+1;
end
t=t-1;

ch =21;
x0=da0(t0:1:t-2,ch);
x1=da1(t0:1:t-2,ch);
% figure
% hold on
% plot(x0,'k')
% plot(x1,'b')

x = zeros(1,size(x0,1)+size(x1,1));
for i =1:min(size(x0,1),size(x1,1))
    x(2*i-1)=x0(i);x(2*i)=x1(i);
end
% 
% figure
% plot(x)


%%
x0 = x0(1:100);
n0 = size(x0,1)
figure
hold on
plot(x0,'k')

% linear
x1=[ -11.08 -10.3786555 -7.5141444 -8.78906 -2.5716 2.58245556 0.9439 -2.45223333 -2.37627778 -3.6133 -9.261044 -8.5124 0.9114 1.60588889 -4.55188889 -9.8144666 -16.135011 -13.270 -11.4746 -6.3585333 -11.11113 3-14.7298 -12.83093333 -5.398 0.37436667 0.56427778 2.094233 -2.4414 0.07052222 -0.569 -1.46483333 -5.60978889 -6.206566 -6.47783 -11.65 -7.4110666 -9.2773 1.28037 9.3099 17.041 18.54923333 17.4099 13.753233 12.92318 10.036 12.7441 16.89454444 13.454855 15.8366 15.16386667 9.9283 8.8867 9.37497778 3.5156444 -2.7344 0.03253333 3.4721 12.69526667 17.11153333 9.1634222 2.653 3.91712222 5.4253 5.4688 5.5067 5.2246333 5.485033 -0.1356 -0.70527778 4.32943333 8.485255 6.35854 4.9805 7.3350 8.45266667 1.39973333 -3.1900888 -0.6402 5.1758 8.1000 6.22284444 2.0996 -0.8029666 -0.835477 0.86263 1.14478889 -4.66037778 -7.1452 -0.255 0.45026667];
% 2nd order spline
x2 = [-11.084 -10.4153321269 -7.08011670538 -9.7703276823 -2.39970400408 3.41095730831 1.11072890813 -2.78678903347 -2.34783762905 -3.6133 -9.60197848548 -9.26525400085 1.97658627415 2.38151918932 -4.81031329994 -9.49471156928 -16.9894907718 -13.1799063072 -11.4746 -5.85774923269 -11.2979679357 -15.2452815881 -13.5183055372 -5.21723548576 1.05823683983 0.319697281199 2.42651644281 -2.4414 0.269498715713 -0.614048784233 -1.00287386274 -6.14466453852 -6.31281748281 -5.69749636487 -12.6243323789 -7.04330358257 -9.2773 1.4971791462 9.23800947134 17.7671063234 18.7167226858 17.7661335223 13.328423749 13.193452294 9.80801277525 12.7441 17.2674002418 12.779908174 16.2239318246 15.828511234 9.38307096804 8.65903526334 9.906099249 3.61790004111 -2.7344 0.0532414153758 2.92251070698 13.1825912671 18.6397814359 8.85357325108 1.78991121744 3.9544666679 5.49715124729 5.4688 5.50823651867 5.13180366237 6.27205118613 -0.810259204961 -1.33348281276 4.39879217162 9.03974542805 6.34528546314 4.9805 7.41342068005 9.1840488001 1.07522612393 -4.02022045013 -1.0006975556 5.48563225944 8.48272521606 6.32229580397 2.0996 -0.904159948133 -1.00325427414 0.931992268988 2.02654181705 -4.97904405211 -8.28597541824 0.0978120835087 1.32812893933];
% 3rd order spline
x3=[-11.084 -10.1878414756 -7.2460554388 -9.82559391622 -2.32007163502 3.4423140082 1.21315842701 -2.82400494175 -2.37908816966 -3.6133 -9.68000466103 -9.20398295062 2.21313777117 2.31367770018 -4.96666543499 -9.35299071332 -16.9896393653 -13.2156881327 -11.4746 -5.85808002828 -11.3094477556 -15.403851017 -13.4580240444 -5.15779526784 1.02010494861 0.374643637656 2.4073455818 -2.4414 0.266081662685 -0.515296108502 -1.12197989778 -6.15168105073 -6.32467611833 -5.65228189022 -12.5614640948 -7.10270768726 -9.2773 1.53087619474 9.28526103596 17.7469467113 18.6714343425 17.9015718543 13.246731913 13.1772850577 9.87012816898 12.7441 17.2558144482 12.5459741736 16.6857866378 15.6616638888 9.14164945598 8.83475339552 9.74212024929 3.73583693508 -2.7344 0.0232309923535 2.95433243837 13.181277347 18.8760849885 8.97758957519 1.48952456958 4.02249755213 5.49347096412 5.4688 5.46759176998 5.22333088689 6.31977716769 -0.967389518929 -1.37940321235 4.37026069153 9.04344634838 6.38910926836 4.9805 7.46236094074 9.20990758776 0.900100951216 -4.00782924997 -0.999123927103 5.41239119304 8.53496707693 6.32046563777 2.0996 -0.840579274385 -1.23272552221 1.34278092597 1.90159594834 -5.19212878712 -7.91541184802 -0.702334376851 2.410449214];

n1=size(x1,2)

ax = 1:n0/n1:n0;
plot(ax(1:n1),x1,'r');
plot(ax(1:n1),x2,'g');
plot(ax(1:n1),x3,'b');


